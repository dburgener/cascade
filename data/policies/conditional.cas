resource foo {}

let my_tunable = false;

domain bar {
	if (true) {
		allow(this, foo, file, write);
	} else {
		allow(this, fool, file, read);
	}

	if (false) {
		allow(this, foo, file, entrypoint);
	}

	if (my_tunable) {
		allow(this, foo, file, getattr);
	}

	// Without full conditional support, the above lines are just ignored
	// TODO: implement full conditional support and remove this
	allow(this, foo, file, getattr);
}
